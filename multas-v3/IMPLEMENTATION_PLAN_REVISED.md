# MULTAs v3 実装計画（改訂版）

## フェーズ1: コア基盤（1-5）
**目標**: データの確実な記録と保存

### Step 1: 基本サイト構築
- [ ] index.htmlでアクセス可能なページ
- [ ] 基本的なレイアウト

### Step 2: ログイン機能
- [ ] シンプルなID/パスワード認証
- [ ] セッション管理

### Step 3: 入力フォーム（最重要）
- [ ] 画面下部固定配置
- [ ] Safari/スマホ対応
- [ ] ノースクロールで常にアクセス可能

### Step 4: データ保存
- [ ] Googleスプレッドシート連携
- [ ] 確実なデータ送信
- [ ] エラーハンドリング

### Step 5: データ紐付け
- [ ] ユーザー名との紐付け
- [ ] タイムスタンプ
- [ ] 一意のID生成

## フェーズ2: UI拡張（6）
**目標**: 将来の拡張に備えた画面設計

### Step 6: タブ切り替え機構
- [ ] LOG/LIST/REPORT タブ
- [ ] 画面間の完全分離
- [ ] 状態管理

## フェーズ3: AI準備（7-8）
**目標**: AI機能の基盤整備とテスト

### Step 7: AI関数の配置
- [ ] パススルー関数の実装
- [ ] データフローの確立
- [ ] 入力→関数→出力の確認

### Step 8: AI独立テスト
- [ ] OpenAI API接続テスト
- [ ] 12分類のテスト
- [ ] 本番フローとは独立して実施

## フェーズ4: AI統合（9-10）
**目標**: AI機能の本番統合

### Step 9: AIフロー統合
- [ ] パススルー関数をAI処理に置換
- [ ] エラーハンドリング
- [ ] フォールバック処理

### Step 10: AI高度化
- [ ] 長文の要素分解
- [ ] 12分類の自動判定
- [ ] 分類結果の保存

## フェーズ5: 可視化（11-12）
**目標**: データの可視化とレポート機能

### Step 11: レーダーチャート
- [ ] Chart.js統合
- [ ] 分類データの集計
- [ ] チャート描画

### Step 12: レポート生成
- [ ] AI レポート生成
- [ ] テンプレート設計
- [ ] エクスポート機能

## 技術選定の変更点

### データ保存
- **変更前**: LocalStorage
- **変更後**: Google Sheets API
- **理由**: 信頼性、アクセシビリティ、データ可視性

### アーキテクチャ
- **モジュール設計**を最優先
- 各機能を独立したファイルに分割
- 依存関係を最小化

## リスク管理

1. **各ステップで動作確認**
   - 次に進む前に必ず検証

2. **バックアップポイント**
   - 各フェーズ完了時にタグ付け
   - 切り戻し可能な状態を維持

3. **AI機能の分離**
   - コア機能に影響しない設計
   - 失敗してもデータ記録は継続

## 次のアクション

まずフェーズ1のStep 1から開始：
1. 基本的なHTMLページ作成
2. Google Sheets API の調査
3. 認証方法の検討